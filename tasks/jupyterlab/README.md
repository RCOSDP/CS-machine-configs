
# jupyterlab

## Description

Install jupyter, daemonize jupyter lab through systemd, and run
jupyter lab.

daemonize a process is done by putting a systemd unit file
/etc/systemd/system/jupyterlab.service. This file is generated by
Ansible template module with a task and a
[template](templates/jupyterlab.service.j2) shown below:

```yml
- name: daemonize jupyterlab through systemd
  template:
    src: templates/jupyterlab.service.j2
    dest: /etc/systemd/system/jupyterlab.service
  vars:
    jupyterlab_user: mdxuser
    jupyterlab_group: mdxuser
    jupyterlab_directory: /home/mdxuser
```

```
[Unit]
Description=jupyter lab daemon

[Service]
Type=simple
WorkingDirectory={{ jupyterlab_directory }}
ExecStart=/usr/local/bin/jupyter lab --ip=:: --NotebookApp.token=""
Restart=always
User={{ jupyterlab_user }}
Group={{ jupyterlab_group }}

[Install]
WantedBy=multi-user.target
```

As shown, user, group, and working directory are passed through
variables.


## How to modify it for your environment

Modify the variables to change user/group and working directory of
jupyterlab to your appropriate location.

Note that the systemd unit file executes jupyter lab on IPv6 `--ip=::`
without token `--NotebookApp.token=""`. Make sure that you have IPv6
and IPv6 ACL on your mdx project is properly configured.